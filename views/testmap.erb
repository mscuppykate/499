
<div class="row">
  <div class="col-md-6">
    <div id="map" style="height: 300px;">
	<style type="text/css">
		html,body {
		width: 100%;
		height: 100%;
		}
	</style>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-md-6">
    <div id="legend">
      <ul class="list-inline well">
        <li><span id="parking_color" class="legend-color"></span> - Parking</li>
        <li><span id="show_car_color" class="legend-color"></span> - Show Car Area</li>
        <li><span id="car_club_color" class="legend-color"></span> - Car Club Area</li>
		<li><span id="scout_area" class="legend-color"></span> - Scout Area</li>
      </ul>
    </div>
  </div>
</div>

<!-- parser to look through kml file and add links to locations -->
<script type="text/javascript" src="js/geoxmlfullv3.js"></script>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="js/jquery-2.0.3.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="js/bootstrap.min.js"></script>
<!-- Change Google Maps API key below -->
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCJkw77K08umeOtYm8HnDRiWlyRGuzkJl8&sensor=false"></script>


<script type="text/javascript">
	var map = null;
	var KMLLayer = null;
	var KMLayer2 = null;
	var car_club_area;
  	var show_car_circles;
	var bmw_car_club;
	var miata_car_club;
	var corvair_car_club;
	var italian_car_club;
	var viper_car_club;
	var brit_car_club;
	var cobra_car_club;
	var landrover_car_club;
	var jaguar_car_club;
	var corvette_club;
	var porsche_club;
  	var show_cars;
  	var show_field;
  function initialize() {
    var mapOptions = {
      center: new google.maps.LatLng( 38.04798015658998, -84.59683381523666),
      zoom: 16,
      disableDefaultUI: true,
      zoomControl: true,
      mapTypeId: google.maps.MapTypeId.SATELLITE
    };
	var kmlOptions = {
  	suppressInfoWindows: true,
  	preserveViewport: false,
  	map: map
	};
	var map = new google.maps.Map(document.getElementById("map"), mapOptions);

    var myParser = new geoXML3.parser({
      map: map
    });
	var myParser = new geoXMLfullv3.parser({});
    //myParser.parse('KMLLayer', 'KMLLayer2');

	    //map = new google.maps.Map(document.getElementById("map"), mapOptions);
		//KMLLayer = new google.maps.KmlLayerurl:'http://mapsengine.google.com/map/kml?mid=zHXIS-clncvI.k6S94KdV9SSQ&amp;lid=zHXIS-clncvI.kz4GaPewUfSU'},kmlOptions);
		KMLLayer = new google.maps.KmlLayer({url: 'https://sites.google.com/site/cs499fbt/files/Keenelandlayer1.kml'}, kmlOptions);
		KMLLayer2 = new google.maps.KmlLayer({url:'https://sites.google.com/site/cs499fbt/files/Keenelandlayer2.kml'},kmlOptions);
		KMLLayer.setMap(map);
		//myParser.parse('KMLLayer', 'KMLLayer2');

		google.maps.event.addListener(map, "zoom_changed",function() {
			event.preventDefault();
			if (!!map){
				var zoom = map.getZoom();
				if (zoom < 16){
					if (!!KMLLayer2.getMap()) KMLLayer2.setMap(null);
					if (!KMLLayer.getMap()) KMLLayer.setMap(map);
				}
				else{
					if (!KMLLayer2.getMap()) KMLLayer2.setMap(map);
					if (!!KMLLayer.getMap()) KMLLayer.setMap(null);
				}
			}
		});
		}
		google.maps.event.addDomListener(window, 'load', initialize);
/////////////////On Click listeners


</script>

